/**
 * Object:  jsApplicationTimer
 * Version: master
 * Author:  Edouard Kombo
 * Twitter: @EdouardKombo
 * Github:  Edouard Kombo
 * Url:     https://github.com/edouardkombo/jsApplicationTimer
 * 
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 * 
 * Javascript application timer helps you reset your application at specific time if no action on a salector has been done by user.
 */

var jsApplicationTimer=function(){};jsApplicationTimer.prototype={timer:120,selector:"body",rafTimer:"",substituteTimer:"",timeOutFunction:"",callBackMethod:"",stopAnimation:true,debug:true,start:function(){if(this.stopAnimation!==false){this.substituteTimer=this.timer;this.stopAnimation=false;this.rafTimer=requestAnimationFrame(this.animation.bind(this))}},clickOnSelector:function(){this.stop();this.start()},animation:function(){this.timeOutFunction=setTimeout(function(){this.substituteTimer--;var e=document.body;e.addEventListener("click",this.clickOnSelector.bind(this),false);if(this.substituteTimer<=0||this.stopAnimation){clearTimeout(this.timeOutFunction);cancelAnimationFrame(this.rafTimer);if(!this.stopAnimation){this.callback()}}else{this.rafTimer=requestAnimationFrame(this.animation.bind(this))}if(this.debug){console.log("Time: "+this.substituteTimer)}}.bind(this),1e3)},stop:function(){this.stopAnimation=true;this.substituteTimer=this.timer;clearTimeout(this.timeOutFunction);cancelAnimationFrame(this.rafTimer)},callback:function(){this.callBackMethod()}}